<html>
  <head>
    <title>Whereby - Developer documentation</title>
    <link rel="stylesheet" href="styles.css" />
    <link data-react-helmet="true" href="https://d2qulvgqu65efe.cloudfront.net/favicon.png" rel="icon" type="image/png" sizes="60x60">
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/inter/Inter-Italic.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/inter/Inter-Medium.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/inter/Inter-MediumItalic.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/inter/Inter-SemiBold.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/inter/Inter-SemiBoldItalic.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/whereby-roslindale/WherebyRoslindaleDisplayCondensed-Regular.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/whereby-roslindale/WherebyRoslindaleText-Regular.woff2"
      rel="preload"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      data-react-helmet="true"
      href="https://d2qulvgqu65efe.cloudfront.net/fonts/whereby-fonts.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <div class="wrapper">
      <div class="content">
        <nav>
          <a href="#getting_started">Getting started</a>
          <a href="#creating_meetings">Creating meetings</a>
          <a href="#embedding_meetings">Embedding meetings</a>
          <a href="http-api">HTTP API reference</a>
        </nav>
        <div style="margin-top: 24px;">
          <h1 style="margin-bottom:48px"">Whereby developer guide</h1>
          <h2 id="getting_started">Getting started</h2>
          <p>
            In order to integrate with Whereby, there are a couple of things
            which needs to be set up. A Whereby account with a subdomain API key
            - This key allows you to create meetings on the Whereby service.
            <a href="https://whereby.com/information/product-api/">Get in touch</a> if youâ€™re missing this. If you are planning to embed
            in another web service, we will have to whitelist the hostname of
            your service. While in development however, you can use a Chrome
            extension to bypass this requirement locally on a development
            machine:
          </p>
          <a
            href="https://chrome.google.com/webstore/detail/disable-content-security/ieelmcmcagommplceebfedjlakkhpden"
            >Chrome extension</a
          >
          <h3>Verifying your API key works</h3>
          <p>
            Once you have retrieved an API key from Whereby, you can verify it
            is correct by issuing the following command in your terminal
          </p>
          <code class="block"
            >curl -H "Authorization: Bearer YOUR_API_KEY"
            https://api.whereby.dev/v1/meetings/1
          </code>
          <p>A <strong>200 or 404</strong> response status indicates your key is working. A <strong>401</strong> response means the provided key is incorrect.</p>
          <h3>Verify your domain is whitelisted</h3>
          <code class="block">curl --head 'https://YOUR_SUBDOMAIN.whereby.com?iframeSource=YOUR_SUBDOMAIN'</code>
          <p>If whitelisted, the response of this command should list out your service url in the <strong>Content-Security-Policy</strong> section.</p>
          <h2 id="creating_meetings">Creating meetings</h2>
          <p>
            Meetings are created by sending sending an HTTP request to our servers. Reference our <a href="http-api/#/paths/~1meetings/post">http api docs</a> to learn how to format your requests. If successful, the
            response will contain the url of the newly created meeting, which
            can be shared through email, SMS etc, or embedded into a website as
            described below.
          </p>
          <h2 id="embedding_meetings">Embedding meetings</h2>
          <p>
            Meeting urls created using our API can be embedded in two ways; in a native app, or in an existing website.
            Either approach allows for customization of the embedded experience by adding query parameters to the room url.  
          </p>
          <h3>Url parameters</h3>
          <ul>
            <li>?embed - Apply default UI adjustments for embed scenarios</li>
            <li>?displayName - Set displayname of participant</li>
            <li>?audio=off - Enter meeting with audio off</li>
            <li>?video=off - Enter meeting with video off</li>
            <li>?chat=&lt;on&gt; - Enable chat in embedded meeting</li>
            <li>?screenshare=&lt;on&gt; - Enable screenshare in embedded meeting</li>
          </ul>

          <h3>Embedding in native apps</h3>
          <h4>Android</h4>
          <p>
            Embedding in an Android app requires use of the <a href="https://developer.android.com/reference/android/webkit/WebView">WebView</a> class.
          </p>

          <h4>iOS</h4>
          <p>
            Although Safari has a UIWebView component which lets developers
            embed websites into an iOS app, this sadly does not work when
            embedding pages leveraging the WebRTC technology Whereby is built
            on. This leaves two options for native iOS apps:
          </p>
          <ul>
            <li>Redirect to mobile Safari</li>
            <li>Use SFSafariViewControlleri</li>
          </ul>
          <h3>Embedding in a website</h3>
          <p>
            Whereby meetings are embedded into other web services by use of an
            iframe. The source of the iframe needs to be a Whereby meeting url,
            which is obtained from our API. In addition to the url parameters described above, the following query
            parameters will have to be added:
          </p>
          <h4>Required url parameters</h4>
          <ul>
              <li><code>?iframeSource=YOUR_WHEREBY_SUBDOMAIN</code> - Instruct Whereby servers to pass required CSP headers to the browser</li>
          </ul>
          <p>
            On the iframe itself, there are a couple of attributes which needs to be set in order to allow Whereby to get access to cam / mic.
          </p>
          <h4>Required iframe attributes</h4>
          <ul>
              <li><code>allow="camera, microphone, fullscreen, speaker"</code></li>
          </ul>
          <h4>Example</h4>
          <p>The following example shows how to embed a Whereby meeting for subdomain <code>example</code> in a website</p>
          <code class="block">
            &lt;iframe src="https://YOUR_SUBDOMAIN.whereby.com/API_GENERATED_MEETING_ID?embed&iframeSource=YOUR_SUBDOMAIN" allow="camera, microphone, fullscreen, speaker" /&gt;
          
          </code>
        </div>
      </div>
    </div>
  </body>
</html>
